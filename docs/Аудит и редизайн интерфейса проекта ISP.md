# UX/UI Аудит и Модернизация ISP_Audit

> **Дата:** 4 февраля 2026 г.  
> **Автор:** UX/UI-аналитик  
> **Философия:** «Убрать всё, что мешает пользователю достичь цели за минимальное количество шагов»

---

## 1. Аудит текущего состояния (Диагностика)

### 1.1. Основные цели простого пользователя (3-5)

1. **Узнать статус сети** — «У меня проблема с провайдером или нет?»
2. **Запустить диагностику** — одной кнопкой проверить всё
3. **Понять причину блокировки** — DNS? DPI? RST-инъекция?
4. **Обойти блокировку** — включить/выключить обход одним действием
5. **Получить рекомендацию** — что делать дальше?

### 1.2. Главный вопрос пользователя

> **«Мой провайдер что-то блокирует? Если да — как это обойти?»**

### 1.3. Визуальный «шум» (по анализу XAML)

| Проблема | Где обнаружено |
|----------|----------------|
| **Избыточные карточки** | 5+ Material Design карточек на одном экране |
| **Плотный лог** | `ScrollViewer` с логом занимает много места |
| **Технический жаргон** | `[TESTER]`, `[CLASSIFIER]` — непонятно обычному пользователю |
| **Конкурирующие CTA** | Кнопки «Запустить», «Остановить», «Обход» — все равнозначны |
| **Статусы без иерархии** | DNS, TCP, TLS, DPI — показаны плоским списком |

### 1.4. Архитектурные проблемы UI

```
Текущая структура:
┌─────────────────────────────────────────┐
│  [Заголовок]                            │
├─────────────────────────────────────────┤
│  [Карточка DNS] [Карточка DPI] [Карточка│
│  RST] [Карточка Firewall] [Карточка...] │ ← Перегрузка!
├─────────────────────────────────────────┤
│  [Кнопка] [Кнопка] [Кнопка] [Кнопка]    │ ← Нет иерархии
├─────────────────────────────────────────┤
│  [Лог: 50+ строк технического текста]   │ ← Шум
└─────────────────────────────────────────┘
```

---

## 2. Стратегия перепроектирования (Принципы)

### 2.1. Иерархия одного

**Единственная главная метрика = Общий статус сети**

```
🟢 Всё в порядке    |    🟡 Обнаружены ограничения    |    🔴 Критические блокировки
```

### 2.2. Группировка по сценариям

| Сценарий | Что показывать |
|----------|----------------|
| **Быстрый старт** | Одна кнопка «Проверить сеть» + крупный статус |
| **Детальный анализ** | Раскрывающаяся панель с категориями блокировок |
| **Обход** | Переключатель в углу (вторичное действие) |
| **Технический лог** | Скрыт за «Показать детали» |

### 2.3. Прогрессивное раскрытие

```
Уровень 1: 🟡 «Обнаружены ограничения» [▼ Подробнее]
           ↓
Уровень 2: • DNS-фильтрация (2 домена)
           • DPI-блокировка (1 сервис)
           [▼ Технические детали]
           ↓
Уровень 3: Полный лог, трейсы, HEX-дампы
```

### 2.4. Язык интерфейса

| Было (техническое) | Стало (человеческое) |
|--------------------|----------------------|
| `[CLASSIFIER] RST injection detected` | «Провайдер разрывает соединение» |
| `DPI fingerprint matched` | «Обнаружена глубокая фильтрация трафика» |
| `DNS NXDOMAIN` | «Домен заблокирован на уровне DNS» |
| `TCP timeout 3000ms` | «Сервер недоступен» |

---

## 3. Конкретные предложения по модернизации

### 3.1. Структура навигации

**Рекомендация: Нет традиционной навигации.** Это одноэкранное приложение (SPA-подобное).

```
┌─────────────────────────────────────────────────────┐
│ ISP Audit                           [⚙️] [?]       │  ← Минималистичный header
└─────────────────────────────────────────────────────┘
         ↓
    Всё на одном экране с раскрытием
```

### 3.2. Главный экран — Новый Layout

```xaml
<!-- Концептуальная структура нового интерфейса -->

<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>    <!-- Header -->
        <RowDefinition Height="Auto"/>    <!-- Главный статус -->
        <RowDefinition Height="Auto"/>    <!-- Кнопка действия -->
        <RowDefinition Height="*"/>       <!-- Детали (раскрываемые) -->
        <RowDefinition Height="Auto"/>    <!-- Footer с обходом -->
    </Grid.RowDefinitions>
    
    <!-- Секция 1: Минималистичный заголовок -->
    <DockPanel Grid.Row="0" Margin="24,16">
        <TextBlock Text="ISP Audit" Style="{StaticResource MaterialDesignHeadline5TextBlock}"/>
        <StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
            <Button Style="{StaticResource MaterialDesignIconButton}" ToolTip="Настройки">
                <materialDesign:PackIcon Kind="Cog"/>
            </Button>
        </StackPanel>
    </DockPanel>
    
    <!-- Секция 2: ГЛАВНЫЙ СТАТУС (центр внимания) -->
    <materialDesign:Card Grid.Row="1" Margin="24,8" Padding="32">
        <StackPanel HorizontalAlignment="Center">
            <!-- Большая иконка статуса -->
            <materialDesign:PackIcon Kind="CheckCircle" 
                                     Width="80" Height="80"
                                     Foreground="{DynamicResource PrimaryHueMidBrush}"/>
            <!-- Главный текст -->
            <TextBlock Text="Сеть работает нормально" 
                       Style="{StaticResource MaterialDesignHeadline4TextBlock}"
                       HorizontalAlignment="Center" Margin="0,16,0,0"/>
            <!-- Подзаголовок -->
            <TextBlock Text="Блокировок не обнаружено" 
                       Style="{StaticResource MaterialDesignBody1TextBlock}"
                       Opacity="0.7" HorizontalAlignment="Center"/>
        </StackPanel>
    </materialDesign:Card>
    
    <!-- Секция 3: Единственная главная кнопка -->
    <Button Grid.Row="2" 
            Content="ПРОВЕРИТЬ СЕТЬ" 
            Style="{StaticResource MaterialDesignRaisedAccentButton}"
            Height="48" Width="200"
            Margin="24,16"
            HorizontalAlignment="Center"/>
    
    <!-- Секция 4: Раскрываемые детали -->
    <materialDesign:Card Grid.Row="3" Margin="24,8" Visibility="Collapsed">
        <Expander Header="Обнаруженные ограничения (3)">
            <StackPanel Margin="16">
                <!-- Упрощённые карточки проблем -->
                <Border BorderBrush="{DynamicResource MaterialDesignDivider}" 
                        BorderThickness="0,0,0,1" Padding="8">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <materialDesign:PackIcon Kind="Dns" Margin="0,0,12,0" 
                                                 Foreground="Orange"/>
                        <TextBlock Grid.Column="1" Text="DNS-фильтрация"/>
                        <TextBlock Grid.Column="2" Text="2 домена" Opacity="0.6"/>
                    </Grid>
                </Border>
            </StackPanel>
        </Expander>
        
        <Expander Header="Технический лог">
            <ScrollViewer MaxHeight="200">
                <TextBlock x:Name="TechnicalLog" FontFamily="Consolas" FontSize="11"/>
            </ScrollViewer>
        </Expander>
    </materialDesign:Card>
    
    <!-- Секция 5: Переключатель обхода (вторичный) -->
    <Border Grid.Row="4" BorderBrush="{DynamicResource MaterialDesignDivider}" 
            BorderThickness="0,1,0,0" Padding="24,12">
        <Grid>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                <ToggleButton Style="{StaticResource MaterialDesignSwitchToggleButton}"
                              x:Name="BypassToggle"/>
                <TextBlock Text="Обход блокировок" Margin="8,0,0,0" 
                           VerticalAlignment="Center"/>
            </StackPanel>
            <TextBlock Text="Активен" HorizontalAlignment="Right" 
                       VerticalAlignment="Center" Opacity="0.6"
                       Visibility="{Binding IsChecked, ElementName=BypassToggle, 
                                   Converter={StaticResource BoolToVisibility}}"/>
        </Grid>
    </Border>
</Grid>
```

### 3.3. Визуальная тема

| Аспект | Рекомендация |
|--------|--------------|
| **Цветовая палитра** | Монохром (серый) + один акцент (синий для CTA) |
| **Статусные цвета** | 🟢 Зелёный / 🟡 Оранжевый / 🔴 Красный — только для иконок статуса |
| **Пустое пространство** | Margin минимум 24px между секциями |
| **Шрифты** | 2 размера: Headline4 для статуса, Body1 для всего остального |
| **Тени карточек** | Минимальные (Elevation="1"), только для главного статуса |

### 3.4. Пример трансформации — Карточки проблем

**БЫЛО:**

```
┌──────────────┐ ┌──────────────┐ ┌──────────────┐ ┌──────────────┐
│ DNS Card     │ │ DPI Card     │ │ RST Card     │ │ Firewall     │
│ • Problem 1  │ │ • Problem 1  │ │ • Problem 1  │ │ • Problem 1  │
│ • Problem 2  │ │ • Problem 2  │ │              │ │ • Problem 2  │
│ Рекомендация │ │ Рекомендация │ │ Рекомендация │ │ Рекомендация │
└──────────────┘ └──────────────┘ └──────────────┘ └──────────────┘
                      ↑ Когнитивная перегрузка ↑
```

**СТАЛО:**

```
┌─────────────────────────────────────────────────────────────────┐
│ 🟡  Обнаружены ограничения                                      │
│                                                                 │
│     3 проблемы требуют внимания              [Включить обход →] │
└─────────────────────────────────────────────────────────────────┘
                              ↓ (по клику)
┌─────────────────────────────────────────────────────────────────┐
│  🔸 DNS-фильтрация          2 домена                            │
│  🔸 DPI-блокировка          Discord, Telegram                   │
│  🔸 RST-инъекция            GitHub                              │
│                                                   [Детали ▼]    │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. Визуальная метафора

### 🏥 «Медицинский диагноз»

> Приложение работает как врач: показывает общий диагноз («Здоров» / «Требуется лечение»), а детали анализов доступны по запросу.

| Аналогия | В интерфейсе |
|----------|--------------|
| Общий диагноз | Главный статус в центре |
| Назначение | Кнопка «Включить обход» |
| Результаты анализов | Раскрываемые детали |
| Выписка врача | Экспорт отчёта |

---

## 5. Рекомендуемый план действий

### Фаза 1: Упрощение главного экрана

- [ ] Удалить все карточки, заменить на единый статус
- [ ] Одна CTA кнопка «Проверить сеть»
- [ ] Переключатель обхода в footer

### Фаза 2: Прогрессивное раскрытие

- [ ] Expander для списка проблем
- [ ] Expander для технического лога
- [ ] Модальное окно для настроек

### Фаза 3: Язык интерфейса

- [ ] Заменить технические термины
- [ ] Добавить человекопонятные рекомендации
- [ ] Локализовать все строки

---

## 6. Приложения

### A. Сравнительная таблица состояний

| Состояние | Иконка | Цвет | Текст | Действие |
|-----------|--------|------|-------|----------|
| Ожидание | ○ | Серый | «Нажмите для проверки» | Проверить сеть |
| Проверка | ⟳ | Синий | «Анализ сети...» | Остановить |
| Норма | ✓ | Зелёный | «Сеть работает нормально» | Проверить снова |
| Ограничения | ⚠ | Оранжевый | «Обнаружены ограничения» | Включить обход |
| Блокировка | ✕ | Красный | «Критические блокировки» | Включить обход |

### B. Wireframe главного экрана

```
┌─────────────────────────────────────────────────────────────────┐
│ ISP Audit                                         [⚙] [?]      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│                           🟢                                    │
│                                                                 │
│                   Сеть работает нормально                       │
│                   Блокировок не обнаружено                      │
│                                                                 │
│                    ┌─────────────────┐                          │
│                    │  ПРОВЕРИТЬ СЕТЬ │                          │
│                    └─────────────────┘                          │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  ▶ Результаты проверки (скрыто)                                 │
│  ▶ Технический лог (скрыто)                                     │
├─────────────────────────────────────────────────────────────────┤
│  ○ Обход блокировок                                    Выкл     │
└─────────────────────────────────────────────────────────────────┘
```
