# –ü–ª–∞–Ω —Ä–∞–±–æ—Ç –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∞—É–¥–∏—Ç–∞ (v2)

–û—Å–Ω–æ–≤–∞–Ω –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–µ `docs/full_repo_audit_v2.md` –æ—Ç 10.12.2025.

## –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (Critical Runtime Fixes)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –í—ã—Å–æ–∫–∏–π (–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
**–¶–µ–ª—å:** –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –±–∞–≥–∏, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

- [x] **1.1 –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É DNS –≤ `StandardHostTester.cs`**
    - **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `dnsOk` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è `true` –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `false` –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö.
    - **–ó–∞–¥–∞—á–∞:** –í –±–ª–æ–∫–µ `catch` (—Å—Ç—Ä–æ–∫–∏ 44-60) —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `dnsOk = false` –∏ `dnsStatus = "DNS_ERROR"`.
- [x] **1.2 –ò—Å–ø—Ä–∞–≤–∏—Ç—å `async void` –≤ `BypassController.cs`**
    - **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ—Ç–æ–¥ `InitializeOnStartupAsync` –∏–º–µ–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—É `async void`, —á—Ç–æ —Å–∫—Ä—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è. –¢–∞–∫–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π.
    - **–ó–∞–¥–∞—á–∞:** –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ `async Task`, —É–±—Ä–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ `_isDisorderEnabled` –∏ `_isDropRstEnabled` (–∏–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Ñ–∏–≥).
- [x] **1.3 –£–¥–∞–ª–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –†–∞–±–æ—á–∏–π —Å—Ç–æ–ª –≤ `App.xaml.cs`**
    - **–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–ø–∏—Å—å –≤ `isp_audit_debug.txt` –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI –∏ –∑–∞—Å–æ—Ä—è–µ—Ç —Å–∏—Å—Ç–µ–º—É.
    - **–ó–∞–¥–∞—á–∞:** –£–¥–∞–ª–∏—Ç—å –≤—ã–∑–æ–≤—ã `File.AppendAllText` –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –∏—Ö –≤ `%TEMP%` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏ (–µ—Å–ª–∏ –ª–æ–≥–∏ –Ω—É–∂–Ω—ã).
- [x] **1.4 –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∫–∞–Ω–∞–ª–æ–≤ (Channels) –≤ `LiveTestingPipeline.cs` –∏ `TrafficCollector.cs`**
    - **–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `Channel.CreateUnbounded`, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ OOM –ø—Ä–∏ —à—Ç–æ—Ä–º–µ –ø–∞–∫–µ—Ç–æ–≤.
    - **–ó–∞–¥–∞—á–∞:** –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `Channel.CreateBounded` (–Ω–∞–ø—Ä–∏–º–µ—Ä, capacity 1000) —Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π `BoundedChannelFullMode.DropOldest` –∏–ª–∏ `Wait`.

## –§–∞–∑–∞ 2: –û—á–∏—Å—Ç–∫–∞ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ (Dead Code Cleanup)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π
**–¶–µ–ª—å:** –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–¥–æ–≤—É—é –±–∞–∑—É, —É–¥–∞–ª–∏–≤ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã –∏ –∫–ª–∞—Å—Å—ã.

- [x] **2.1 –£–¥–∞–ª–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã:**
    - `TargetCatalog.cs`
    - `Wpf/ServiceItemViewModel.cs`
    - `Windows/CapturedTargetsWindow.xaml` –∏ `.xaml.cs`
    - `Utils/GuiProfileStorage.cs`
    - `Utils/DnsFixApplicator.cs`
    - `Utils/BypassStrategyPlanner.cs`
    - `Utils/NetworkMonitorService.cs`
    - `Utils/ProblemClassifier.cs`
- [x] **2.2 –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã:**
    - `game_targets.json`
    - `bypass_profile_fshud_google.json`
- [x] **2.3 –û—á–∏—Å—Ç–∏—Ç—å `Config.cs`:**
    - –£–¥–∞–ª–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ `NoTrace`, `Ports`, `UdpProbes`.
- [x] **2.4 –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–ø–∫–∏ `Tests/`:**
    - –£–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫—É `Tests/` (—Ç–∞–∫ –∫–∞–∫ –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ `Core/Modules`), –ª–∏–±–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ `legacy/` –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏.

## –§–∞–∑–∞ 3: –ê–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ù–∏–∑–∫–∏–π
**–¶–µ–ª—å:** –ü—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å—é.

- [x] **3.1 –û–±–Ω–æ–≤–∏—Ç—å `CLAUDE.md`:**
    - –§–∞–π–ª —É–¥–∞–ª–µ–Ω –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- [x] **3.2 –û–±–Ω–æ–≤–∏—Ç—å `.github/copilot-instructions.md`:**
    - –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
- [x] **3.3 –û–±–Ω–æ–≤–∏—Ç—å `ARCHITECTURE_CURRENT.md`:**
    - –ü—Ä–∏–≤–µ—Å—Ç–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –≤–µ—Ä—Å–∏–µ–π 3.0 (Unified Structure).
    - –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª—ã Known Issues, Technical Debt, Roadmap.
- [x] **3.4 –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º–µ–Ω (Namespaces):**
    - –ü—Ä–∏–≤–µ—Å—Ç–∏ –≤—Å—ë –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∏–ª—é (–≤—ã–±—Ä–∞—Ç—å `IspAudit` –∏–ª–∏ `ISPAudit`). –°–µ–π—á–∞—Å —Å–º–µ—à–∞–Ω—ã `IspAudit`, `ISPAudit`, `ISPAudit.ViewModels`.

## –§–∞–∑–∞ 4: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (Refactoring)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üîµ –ù–∏–∑–∫–∏–π (Q1 2026)
**–°—Ç–∞—Ç—É—Å:** ‚û°Ô∏è –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ `docs/TODO.md`

> –ó–∞–¥–∞—á–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é DI, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á.
