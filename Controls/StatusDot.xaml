<UserControl x:Class="IspAudit.Controls.StatusDot"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="24" Height="24">
    <Grid>
        <!-- Idle -->
        <Ellipse x:Name="IdleDot" 
                 Width="24" Height="24"
                 Stroke="{StaticResource IdleBrush}" 
                 StrokeThickness="2"
                 Visibility="Collapsed"/>

        <!-- Running -->
        <Grid x:Name="RunningDot" Visibility="Collapsed">
            <Ellipse Width="24" Height="24" Fill="{StaticResource RunningBrush}"/>
            <Ellipse Width="12" Height="12" 
                     Stroke="White" StrokeThickness="2"
                     StrokeDashArray="3 1"
                     RenderTransformOrigin="0.5,0.5">
                <Ellipse.RenderTransform>
                    <RotateTransform x:Name="SpinnerRotation"/>
                </Ellipse.RenderTransform>
                <Ellipse.Triggers>
                    <EventTrigger RoutedEvent="Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetName="SpinnerRotation"
                                               Storyboard.TargetProperty="Angle"
                                               From="0" To="360" Duration="0:0:1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Ellipse.Triggers>
            </Ellipse>
        </Grid>

        <!-- Pass -->
        <Grid x:Name="PassDot" Visibility="Collapsed">
            <Ellipse Width="24" Height="24" Fill="{StaticResource PassBrush}"/>
            <Path Data="M 7,12 L 10,15 L 17,8" 
                  Stroke="White" StrokeThickness="2"
                  StrokeStartLineCap="Round" StrokeEndLineCap="Round"/>
        </Grid>

        <!-- Fail -->
        <Grid x:Name="FailDot" Visibility="Collapsed">
            <Ellipse Width="24" Height="24" Fill="{StaticResource FailBrush}"/>
            <Path Data="M 8,8 L 16,16 M 8,16 L 16,8" 
                  Stroke="White" StrokeThickness="2"
                  StrokeStartLineCap="Round" StrokeEndLineCap="Round"/>
        </Grid>

        <!-- Warn -->
        <Grid x:Name="WarnDot" Visibility="Collapsed">
            <Ellipse Width="24" Height="24" Fill="{StaticResource WarnBrush}"/>
            <Path Data="M 12,7 L 12,12 M 12,14 L 12,15" 
                  Stroke="White" StrokeThickness="2"
                  StrokeStartLineCap="Round" StrokeEndLineCap="Round"/>
        </Grid>
    </Grid>
</UserControl>
