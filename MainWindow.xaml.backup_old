<Window x:Class="IspAudit.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:IspAudit"
        Title="ISP Audit Ð´Ð»Ñ Star Citizen"
        Height="600" Width="800"
        MinHeight="500" MinWidth="700"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{materialDesign:MaterialDesignFont}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}">

    <Window.Resources>
        <local:StringToVisibilityConverter x:Key="StringToVisibilityConverter"/>
    </Window.Resources>

    <materialDesign:DialogHost>
        <Grid Margin="16">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
            <TextBlock Grid.Row="0"
                       Text="ISP Audit"
                       Style="{StaticResource MaterialDesignHeadline5TextBlock}"
                       Margin="0,0,0,12"/>

            <!-- Ð’ÐµÑ€Ð´Ð¸ÐºÑ‚ Ð¿Ð¾Ð´ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¾Ð¼ -->
            <TextBlock Grid.Row="1"
                       x:Name="PlayableText"
                       Text="Ð˜Ð³Ñ€Ð°Ð±ÐµÐ»ÑŒÐ½Ð¾: â€”"
                       Style="{StaticResource MaterialDesignSubtitle1TextBlock}"
                       Margin="0,0,0,8"/>

            <!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ðµ Ð¸ ÑÐ¼ÐµÐ½Ð° Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ -->
            <Grid Grid.Row="2" Margin="0,0,0,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0"
                           Text="ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ:"
                           Style="{StaticResource MaterialDesignBody2TextBlock}"
                           VerticalAlignment="Center"
                           Margin="0,0,8,0"/>
                <ComboBox Grid.Column="1"
                          x:Name="ProfileComboBox"
                          Width="150"
                          Margin="0,0,8,0"
                          materialDesign:HintAssist.Hint="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ"
                          Style="{StaticResource MaterialDesignOutlinedComboBox}"
                          SelectionChanged="ProfileComboBox_SelectionChanged"/>
                <Button Grid.Column="2"
                        x:Name="ApplyProfileButton"
                        Content="ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"
                        Style="{StaticResource MaterialDesignFlatButton}"
                        Click="ApplyProfileButton_Click"
                        IsEnabled="False"
                        Margin="0,0,16,0"/>
                <TextBlock Grid.Column="4"
                           x:Name="ProfileNameText"
                           Text="ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ: ÐÐµ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½"
                           Style="{StaticResource MaterialDesignCaptionTextBlock}"
                           Foreground="{DynamicResource MaterialDesignBodyLight}"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Right"/>
            </Grid>

            <!-- ÐŸÐ¾Ð»Ñ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ñ (Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹) -->
            <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,0,0,12">
                <TextBox x:Name="TestHostTextBox"
                         materialDesign:HintAssist.Hint="Ð¢ÐµÑÑ‚ Ñ…Ð¾ÑÑ‚Ð°"
                         IsEnabled="False"
                         Width="200"
                         Margin="0,0,8,0"
                         Style="{StaticResource MaterialDesignOutlinedTextBox}"/>
                <TextBox x:Name="GameExeTextBox"
                         materialDesign:HintAssist.Hint="EXE Ñ„Ð°Ð¹Ð» Ð¸Ð³Ñ€Ñ‹"
                         IsEnabled="False"
                         Width="300"
                         Style="{StaticResource MaterialDesignOutlinedTextBox}"/>
            </StackPanel>

            <!-- VPN Information Banner -->
            <materialDesign:Card x:Name="VpnInfoCard"
                                 Grid.Row="4"
                                 Margin="0,0,0,12"
                                 Visibility="Collapsed"
                                 Background="#E3F2FD"
                                 Padding="12">
                <StackPanel Margin="12,4">
                    <TextBlock Text="â„¹ VPN Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Foreground="#1976D2"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ‡ÐµÑ€ÐµÐ· VPN. Ð£Ð²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ñ‹ Ñ‚Ð°Ð¹Ð¼Ð°ÑƒÑ‚Ñ‹ Ð¸ ÑÐ¼ÑÐ³Ñ‡ÐµÐ½Ñ‹ ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð´Ð»Ñ DNS-Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¾Ðº."
                               FontSize="12"
                               TextWrapping="Wrap"
                               Foreground="#424242"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Ñ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸ÐµÐ¼ (Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð°Ñ…) -->
            <materialDesign:Card Grid.Row="5"
                                 Padding="12"
                                 Margin="0,0,0,12"
                                 x:Name="WarningCard"
                                 Visibility="Collapsed"
                                 Background="#F44336">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                        <materialDesign:PackIcon Kind="AlertCircle"
                                                Foreground="White"
                                                Width="20" Height="20"
                                                Margin="0,0,6,0"/>
                        <TextBlock Text="ÐžÐ±Ð½Ð°Ñ€ÑƒÐ¶ÐµÐ½Ñ‹ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸ÐµÐ¼"
                                  Foreground="White"
                                  FontWeight="Bold"
                                  FontSize="14"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock x:Name="WarningText"
                              Text=""
                              Foreground="White"
                              TextWrapping="Wrap"
                              FontSize="13"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Ñ ÑƒÑÐ¿ÐµÑ…Ð¾Ð¼ (Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ ÑƒÑÐ¿ÐµÑ…Ðµ) -->
            <materialDesign:Card Grid.Row="5"
                                 Padding="12"
                                 Margin="0,0,0,12"
                                 x:Name="SuccessCard"
                                 Visibility="Collapsed"
                                 Background="#4CAF50">
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="CheckCircle"
                                            Foreground="White"
                                            Width="20" Height="20"
                                            Margin="0,0,6,0"/>
                    <TextBlock Text="Ð’ÑÑ‘ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚! Star Citizen Ð³Ð¾Ñ‚Ð¾Ð² Ðº Ð·Ð°Ð¿ÑƒÑÐºÑƒ"
                              Foreground="White"
                              FontWeight="Bold"
                              FontSize="14"
                              VerticalAlignment="Center"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Firewall Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ -->
            <materialDesign:Card Grid.Row="5"
                                 Padding="12"
                                 Margin="0,0,0,12"
                                 x:Name="FirewallCard"
                                 Visibility="Collapsed"
                                 Background="#FF9800">
                <StackPanel Margin="12,4">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <materialDesign:PackIcon Kind="Shield"
                                                Foreground="White"
                                                Width="20" Height="20"
                                                Margin="0,0,6,0"/>
                        <TextBlock Text="ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Firewall"
                                  Foreground="White"
                                  FontWeight="Bold"
                                  FontSize="14"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock x:Name="FirewallText"
                              Text=""
                              Foreground="White"
                              TextWrapping="Wrap"
                              FontSize="12"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° ISP Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ -->
            <materialDesign:Card Grid.Row="5"
                                 Padding="12"
                                 Margin="0,0,0,12"
                                 x:Name="IspCard"
                                 Visibility="Collapsed"
                                 Background="#FF5722">
                <StackPanel Margin="12,4">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <materialDesign:PackIcon Kind="Web"
                                                Foreground="White"
                                                Width="20" Height="20"
                                                Margin="0,0,6,0"/>
                        <TextBlock Text="ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¿Ñ€Ð¾Ð²Ð°Ð¹Ð´ÐµÑ€Ð¾Ð¼ (ISP)"
                                  Foreground="White"
                                  FontWeight="Bold"
                                  FontSize="14"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock x:Name="IspText"
                              Text=""
                              Foreground="White"
                              TextWrapping="Wrap"
                              FontSize="12"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Router Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ -->
            <materialDesign:Card Grid.Row="5"
                                 Padding="12"
                                 Margin="0,0,0,12"
                                 x:Name="RouterCard"
                                 Visibility="Collapsed"
                                 Background="#FF9800">
                <StackPanel Margin="12,4">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <materialDesign:PackIcon Kind="Router"
                                                Foreground="White"
                                                Width="20" Height="20"
                                                Margin="0,0,6,0"/>
                        <TextBlock Text="ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ñ€Ð¾ÑƒÑ‚ÐµÑ€Ð¾Ð¼"
                                  Foreground="White"
                                  FontWeight="Bold"
                                  FontSize="14"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock x:Name="RouterText"
                              Text=""
                              Foreground="White"
                              TextWrapping="Wrap"
                              FontSize="12"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Software Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ -->
            <materialDesign:Card Grid.Row="5"
                                 Padding="12"
                                 Margin="0,0,0,12"
                                 x:Name="SoftwareCard"
                                 Visibility="Collapsed"
                                 Background="#9C27B0">
                <StackPanel Margin="12,4">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                        <materialDesign:PackIcon Kind="Application"
                                                Foreground="White"
                                                Width="20" Height="20"
                                                Margin="0,0,6,0"/>
                        <TextBlock Text="ÐšÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹ ÐŸÐž"
                                  Foreground="White"
                                  FontWeight="Bold"
                                  FontSize="14"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock x:Name="SoftwareText"
                              Text=""
                              Foreground="White"
                              TextWrapping="Wrap"
                              FontSize="12"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð²ÐµÑ€Ð´Ð¸ÐºÑ‚ -->
            <materialDesign:Card Grid.Row="5"
                                 Padding="16"
                                 Margin="0,0,0,12"
                                 x:Name="VerdictCard"
                                 Visibility="Collapsed"
                                 Background="#2196F3">
                <StackPanel Margin="12,4">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                        <materialDesign:PackIcon Kind="Information"
                                                Foreground="White"
                                                Width="24" Height="24"
                                                Margin="0,0,8,0"/>
                        <TextBlock Text="Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ñ‹Ð¹ Ð²ÐµÑ€Ð´Ð¸ÐºÑ‚"
                                  Foreground="White"
                                  FontWeight="Bold"
                                  FontSize="16"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock x:Name="VerdictText"
                              Text=""
                              Foreground="White"
                              TextWrapping="Wrap"
                              FontSize="13"
                              LineHeight="20"
                              FontFamily="Segoe UI"/>
                </StackPanel>
            </materialDesign:Card>

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ DNS Fix/Reset -->
            <StackPanel Grid.Row="4" Orientation="Horizontal" Margin="0,12,0,12" HorizontalAlignment="Left">
                <Button x:Name="FixDnsButton"
                        Content="ðŸ”§ Ð˜Ð¡ÐŸÐ ÐÐ’Ð˜Ð¢Ð¬ DNS"
                        Style="{StaticResource MaterialDesignRaisedButton}"
                        Height="40"
                        FontSize="14"
                        Padding="16,0"
                        Click="FixDnsButton_Click"
                        Visibility="Collapsed"
                        materialDesign:ButtonAssist.CornerRadius="4"
                        Background="#FF9800"
                        Foreground="White"
                        Margin="0,0,12,0"/>
                <Button x:Name="ResetDnsButton"
                        Content="â†©ï¸ Ð’Ð•Ð ÐÐ£Ð¢Ð¬ DNS"
                        Style="{StaticResource MaterialDesignRaisedButton}"
                        Height="40"
                        FontSize="14"
                        Padding="16,0"
                        Click="ResetDnsButton_Click"
                        Visibility="Collapsed"
                        materialDesign:ButtonAssist.CornerRadius="4"
                        Background="#757575"
                        Foreground="White"/>
            </StackPanel>

            <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ ÐºÐ½Ð¾Ð¿ÐºÐ° Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ -->

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ -->
                        <Grid Grid.Row="5" Margin="0,0,0,16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Button Grid.Column="0"
                        x:Name="RunButton"
                        Content="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½"
                        Style="{StaticResource MaterialDesignRaisedButton}"
                        Height="42"
                        FontSize="15"
                        FontWeight="Bold"
                        Click="RunButton_Click"
                        materialDesign:ButtonAssist.CornerRadius="4"
                        Background="#2196F3"
                        Foreground="White"
                        Margin="0,0,8,0">
                    <Button.Effect>
                        <DropShadowEffect Color="#2196F3"
                                         BlurRadius="8"
                                         ShadowDepth="2"
                                         Opacity="0.25"/>
                    </Button.Effect>
                </Button>
                <Button Grid.Column="1"
                        x:Name="SaveButton"
                        Content="Ð¡ÐžÐ¥Ð ÐÐÐ˜Ð¢Ð¬ ÐžÐ¢Ð§ÐÐ¢"
                        Style="{StaticResource MaterialDesignOutlinedButton}"
                        Height="42"
                        FontSize="13"
                        Click="SaveReport_Click"
                        IsEnabled="False"
                        materialDesign:ButtonAssist.CornerRadius="4"/>
            </Grid>

            <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð² -->
            <materialDesign:Card Grid.Row="6" Padding="12">
                <DockPanel>
                    <TextBlock Text="ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð² Star Citizen"
                              Style="{StaticResource MaterialDesignSubtitle1TextBlock}"
                              DockPanel.Dock="Top"
                              Margin="0,0,0,12"/>

                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <ItemsControl x:Name="ServicesPanel">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border BorderBrush="{DynamicResource MaterialDesignDivider}"
                                           BorderThickness="0,0,0,1"
                                           Padding="6"
                                           Margin="0,2">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="{Binding ServiceName}"
                                                          FontWeight="SemiBold"
                                                          FontSize="13"/>
                                                <TextBlock Text="{Binding Details}"
                                                          Foreground="{DynamicResource MaterialDesignBodyLight}"
                                                          FontSize="12"
                                                          Margin="0,2,0,0"/>
                                                <TextBlock Text="{Binding DetailedMessage}"
                                                          FontSize="11"
                                                          Foreground="#616161"
                                                          TextWrapping="Wrap"
                                                          Margin="0,4,0,0"
                                                          Visibility="{Binding DetailedMessage, Converter={StaticResource StringToVisibilityConverter}}"/>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1"
                                                       Orientation="Horizontal"
                                                       VerticalAlignment="Center">
                                                <!-- ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ-Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ -->
                                                <ProgressBar Width="20" Height="20"
                                                            Margin="0,0,6,0"
                                                            IsIndeterminate="True"
                                                            Style="{StaticResource MaterialDesignCircularProgressBar}"
                                                            Visibility="{Binding RunningVisibility}"/>

                                                <!-- Ð˜ÐºÐ¾Ð½ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ° -->
                                                <materialDesign:PackIcon Kind="{Binding StatusIcon}"
                                                                        Width="20" Height="20"
                                                                        Foreground="{Binding StatusColor}"
                                                                        Visibility="{Binding CompletedVisibility}"/>
                                            </StackPanel>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </ScrollViewer>
                </DockPanel>
            </materialDesign:Card>

            <!-- ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ-Ð±Ð°Ñ€ Ð¸ ÑÑ‚Ð°Ñ‚ÑƒÑ -->
            <StackPanel Grid.Row="7" Margin="0,12,0,0">
                <ProgressBar x:Name="ProgressBar"
                            Height="4"
                            Minimum="0"
                            Maximum="100"
                            Value="0"
                            materialDesign:TransitionAssist.DisableTransitions="False"/>
                <TextBlock x:Name="StatusText"
                          Text="Ð“Ð¾Ñ‚Ð¾Ð² Ðº Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ"
                          Margin="0,6,0,0"
                          FontSize="12"
                          Foreground="{DynamicResource MaterialDesignBodyLight}"/>
            </StackPanel>
        </Grid>
    </materialDesign:DialogHost>
</Window>

